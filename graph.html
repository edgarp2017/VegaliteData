<!DOCTYPE html>
<html>
  <head>
    <title>Embedding Vega-Lite</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.19.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.15.1"></script>
  </head>
  <body>
    <div id="vis"></div>
    <div id="vis2"></div>
    <div id="vis3"></div>

    <script type="text/javascript">
      // Q. vs Q.
      var vis1 = {
        $schema: 'https://vega.github.io/schema/vega-lite/v5.json',
        description: 'A simple bar chart with embedded data.',
        data: {
          url: 'https://raw.githubusercontent.com/edgarp2017/VegaliteData/master/data%20(1).csv'
        },
        mark: 'point',
        encoding: {
          x: {field: 'horsepower', type: 'quantitative'},
          y: {field: 'price', type: 'quantitative'}
        }
      };
      
      //Q. vs C.
      var vis2 = {
        $schema: 'https://vega.github.io/schema/vega-lite/v5.json',
        description: 'A simple bar chart with embedded data.',
        data: {
          url: 'https://raw.githubusercontent.com/edgarp2017/VegaliteData/master/data%20(1).csv'
        },
        mark: 'circle',
        encoding: {
          x: {
            field: 'make', 
            type: 'nominal',
          },
          y: {
            field: 'engine-size', 
            type: 'quantitative',
          },
          color: {
            type: "nominal",
            field: "body-style",
          }
        },
      };

      // C. vs C.
      var vis3 = {
        $schema: 'https://vega.github.io/schema/vega-lite/v5.json',
        description: 'A simple bar chart with embedded data.',
        data: {
          url: 'https://raw.githubusercontent.com/edgarp2017/VegaliteData/master/data%20(1).csv'
        },
        transform: [
          {
            aggregate: [{
            op: "count",
            field: "body-style",
            as: "body-styles"
            }],
            groupby: [ 'make']
          }
        ],
        mark: 'circle',
        encoding: {
          x: {
            field: 'make', 
            type: 'nominal'
          },
          y: {
            field: 'body-styles', 
            type: 'quantitative'
          }
        },
        color: {
          type: "nominal",
          field: "body-style",
        }
      };

      vegaEmbed('#vis', vis1);
      vegaEmbed('#vis2', vis2);
      vegaEmbed('#vis3', vis3);

    </script>
  </body>
</html>